# 第六周作业

## 订单商城DDL

```mysql
# 创建商城DB
CREATE DATABASE IF NOT EXISTS `d_mall`;

use d_mall;

# 用户表
CREATE TABLE IF NOT EXISTS `t_user`(
	`id` BIGINT NOT NULL AUTO_INCREMENT COMMENT 'ID',
	`name` VARCHAR(128) NOT NULL DEFAULT '' COMMENT '姓名',
	`birthday` DATE NOT NULL DEFAULT '1000-01-01' COMMENT '生日',
	`telphone` VARCHAR(64) NOT NULL DEFAULT '' COMMENT '电话',
	`email` VARCHAR(128) NOT NULL DEFAULT '' COMMENT '邮箱',
	`address` VARCHAR(512) NOT NULL DEFAULT '' COMMENT '地址',
	`area_code` INT NOT NULL DEFAULT 0 COMMENT '地区编码',
	`status` INT NOT NULL DEFAULT 0 COMMENT '状态',
	`create_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`last_modified_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后修改时间',
	PRIMARY KEY (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

# 商品表
CREATE TABLE IF NOT EXISTS `t_merchandise`(
	`id` BIGINT NOT NULL AUTO_INCREMENT COMMENT 'ID',
	`name` VARCHAR(128) NOT NULL DEFAULT '' COMMENT '名称',
	`no` VARCHAR(128) NOT NULL DEFAULT '' COMMENT '编号',
	`price` BIGINT NOT NULL DEFAULT 0 COMMENT '价格，单位分',
	`image` VARCHAR(128) NOT NULL DEFAULT '' COMMENT '图片',
	`status` INT NOT NULL DEFAULT 0 COMMENT '状态',
	`reverse` INT NOT NULL DEFAULT 0 COMMENT '库存',
	`create_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`last_modified_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后修改时间',
	PRIMARY KEY (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

# 订单表
CREATE TABLE IF NOT EXISTS `t_order`(
	`id` BIGINT NOT NULL AUTO_INCREMENT COMMENT 'ID',
	`buyer_id` BIGINT NOT NULL DEFAULT 0 COMMENT '买家id',
	`seller_id` BIGINT NOT NULL DEFAULT 0 COMMENT '卖家id',
	`merchandise_id` BIGINT NOT NULL DEFAULT 0 COMMENT '商品id',
	`price` BIGINT NOT NULL DEFAULT 0 COMMENT '成交价格，单位分',
	`status` INT NOT NULL DEFAULT 0 COMMENT '状态',
	`create_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`last_modified_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后修改时间',
	PRIMARY KEY (id),
	KEY `buyer`(`buyer_id`),
	KEY `seller`(`seller_id`),
	KEY `merchandise`(`merchandise_id`)
)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

